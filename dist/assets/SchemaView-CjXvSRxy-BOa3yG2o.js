import{a2 as f,e as m,j as H,b3 as J,a,a4 as c,au as P,av as _,b0 as B,aK as x,u as M,aL as U,aW as W,aX as G,w as K,b4 as X,ag as Q,aH as q}from"./entry.client-CLkf4Kjg.js";import{G as Y}from"./circular-BIN_WQ0c-BbepmLNg.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"m9 7-5 5 5 5",key:"j5w590"}],["path",{d:"m15 7 5 5-5 5",key:"1bl6da"}]],ee=f("chevrons-left-right",Z);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M5 12h14",key:"1ays0h"}]],te=f("minus",ae);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],re=f("plus",se);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],ie=f("refresh-ccw-dot",ne);var oe="Separator",k="horizontal",le=["horizontal","vertical"],L=m.forwardRef((e,t)=>{const{decorative:s,orientation:r=k,...i}=e,n=ce(r)?r:k,l=s?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return H.jsx(J.div,{"data-orientation":n,...l,...i,ref:t})});L.displayName=oe;function ce(e){return le.includes(e)}var de=L;function me({className:e,orientation:t="horizontal",decorative:s=!0,...r}){return a.jsx(de,{"data-slot":"separator",decorative:s,orientation:t,className:c("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}function pe({className:e,...t}){return a.jsx("div",{role:"list","data-slot":"item-group",className:c("group/item-group flex flex-col",e),...t})}function $({className:e,...t}){return a.jsx(me,{"data-slot":"item-separator",orientation:"horizontal",className:c("my-0",e),...t})}const ue=_("group/item flex items-center border border-transparent text-sm rounded-md transition-colors [a]:hover:bg-accent/50 [a]:transition-colors duration-100 flex-wrap outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{variant:{default:"bg-transparent",outline:"border-border",muted:"bg-muted/50"},size:{default:"p-4 gap-4 ",sm:"py-3 px-4 gap-2.5"}},defaultVariants:{variant:"default",size:"default"}});function A({className:e,variant:t="default",size:s="default",asChild:r=!1,...i}){const n=r?P:"div";return a.jsx(n,{"data-slot":"item","data-variant":t,"data-size":s,className:c(ue({variant:t,size:s,className:e})),...i})}function g({className:e,...t}){return a.jsx("div",{"data-slot":"item-content",className:c("flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none",e),...t})}function z({className:e,...t}){return a.jsx("div",{"data-slot":"item-title",className:c("flex w-fit items-center gap-2 text-sm leading-snug font-medium",e),...t})}function xe({className:e,...t}){return a.jsx("div",{"data-slot":"item-actions",className:c("flex items-center gap-2",e),...t})}function v({className:e,...t}){return a.jsx("div",{"data-slot":"frame",className:c("relative flex flex-col rounded-2xl bg-muted p-1",e),...t})}function y({className:e,...t}){return a.jsx("div",{"data-slot":"frame-panel",className:c("relative bg-clip-padding rounded-xl border bg-card p-5 shadow-xs","before:pointer-events-none before:absolute before:inset-0 before:rounded-[calc(var(--radius-xl)-1px)] before:shadow-[0_1px_--theme(--color-black/4%)] dark:bg-clip-border dark:before:shadow-[0_-1px_--theme(--color-white/8%)]",e),...t})}function he({className:e,...t}){return a.jsx("header",{"data-slot":"frame-panel-header",className:c("flex flex-col p-4",e),...t})}function fe({className:e,...t}){return a.jsx("div",{"data-slot":"frame-panel-description",className:c("text-sm text-muted-foreground",e),...t})}function je({className:e,...t}){return a.jsx("footer",{"data-slot":"frame-panel-footer",className:c("flex flex-col gap-1 px-5 py-4",e),...t})}const ge=_("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",muted:"bg-muted text-muted-foreground "}},defaultVariants:{variant:"default"}});function ve({className:e,variant:t,asChild:s=!1,...r}){const i=s?P:"span";return a.jsx(i,{"data-slot":"badge",className:c(ge({variant:t}),e),...r})}function ye({className:e,...t}){return a.jsx("div",{"data-slot":"frame",className:c("relative flex flex-col rounded-2xl bg-muted p-1",e),...t})}function be({className:e,...t}){return a.jsx("div",{"data-slot":"frame-panel",className:c("relative bg-clip-padding rounded-xl border bg-card p-5 shadow-xs","before:pointer-events-none before:absolute before:inset-0 before:rounded-[calc(var(--radius-xl)-1px)] before:shadow-[0_1px_--theme(--color-black/4%)] dark:bg-clip-border dark:before:shadow-[0_-1px_--theme(--color-white/8%)]",e),...t})}const qe=({name:e,children:t})=>a.jsx("span",{"data-pagefind-meta":e,className:"sr-only",children:t}),Ne=(e,t)=>e.reduce((s,r)=>{const i=t(r);return s[i]||(s[i]=[]),s[i].push(r),s},{}),V=({schema:e,hideDescription:t=!1})=>a.jsx("div",{className:"flex flex-col gap-1",children:a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Const value: "}),a.jsx(x,{className:"border rounded px-1 font-mono",children:e.const}),!t&&e.description&&a.jsx("div",{className:"text-muted-foreground",children:e.description})]})}),b=({values:e,className:t,maxVisibleValues:s=8})=>{const[r,i]=m.useState(!1);if(!e.length)return null;const n=e.length>s,o=n&&!r?e.slice(0,s):e;return a.jsxs("div",{className:c("flex flex-wrap gap-1.5",t),children:[a.jsx("span",{className:"text-muted-foreground",children:"Enum values:"}),o.map(l=>a.jsx("div",{children:a.jsx(x,{className:"border rounded-sm px-1 font-mono",children:l})},l)),n&&a.jsx(K,{variant:"ghost",size:"sm",className:"h-fit px-0",onClick:()=>i(!r),children:r?a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(X,{size:12}),a.jsx("span",{className:"text-muted-foreground",children:"show less"})]}):a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Q,{size:12}),a.jsxs("span",{className:"text-muted-foreground",children:["show ",e.length-s," more"]})]})})]})},Oe=({pattern:e})=>{const[t,s]=m.useState(!1),r=e.length>20,i=r?`${e.slice(0,20)}…`:e;return a.jsxs(q,{className:c("text-xs",r&&"cursor-pointer"),onClick:()=>s(!t),selectOnClick:!1,children:[t?e:i,r&&a.jsx("button",{type:"button",className:"p-1 translate-y-[2px]",children:!t&&a.jsx(ee,{size:12})})]})},we=e=>e?[e.type==="array"&&e.items.type?Array.isArray(e.items.type)?`(${e.items.type.join(" | ")})[]`:`${e.items.type}[]`:Array.isArray(e.type)?e.type.join(" | "):e.type,e.enum&&"enum",e.const&&"const",e.format,e.minimum!==void 0&&`min: ${e.minimum}`,e.maximum!==void 0&&`max: ${e.maximum}`,e.minLength!==void 0&&`minLength: ${e.minLength}`,e.maxLength!==void 0&&`maxLength: ${e.maxLength}`,e.minItems!==void 0&&`minItems: ${e.minItems}`,e.maxItems!==void 0&&`maxItems: ${e.maxItems}`,e.minProperties!==void 0&&`minProps: ${e.minProperties}`,e.maxProperties!==void 0&&`maxProps: ${e.maxProperties}`,e.uniqueItems&&"unique",e.readOnly&&"readOnly",e.writeOnly&&"writeOnly",e.deprecated&&"deprecated",e.pattern&&a.jsxs(a.Fragment,{children:["pattern: ",a.jsx(Oe,{pattern:e.pattern})]})]:[],N=({schema:e,extraItems:t=[],className:s})=>{const r=[...we(e),...t].flatMap(i=>typeof i=="string"||m.isValidElement(i)?i:[]);return a.jsx("span",{className:s,children:r.map((i,n)=>a.jsxs("span",{className:"text-muted-foreground",children:[i,n<r.length-1&&a.jsx("span",{className:"text-muted-foreground/50",children:" · "})]},n))})},O=({schema:e})=>{const t=e.examples?.at(0),s=e.default;return t===void 0&&s===void 0?null:a.jsxs("div",{className:"flex flex-col gap-1",children:[t!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Example: "}),a.jsx(x,{className:"border rounded-sm px-1 font-mono",children:typeof t=="object"||typeof t=="boolean"?JSON.stringify(t):t})]}),s!==void 0&&a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Default: "}),a.jsx(x,{className:"border rounded-sm px-1 font-mono",children:typeof s=="object"||typeof s=="boolean"?JSON.stringify(s):s})]})]})},R=e=>typeof e=="string"&&["string","number","boolean","integer","null"].includes(e)||Array.isArray(e)&&e.every(R),h=e=>e.type==="array"||Array.isArray(e.type)&&e.type.includes("array"),S=e=>e&&(e.type==="object"&&Object.keys(e.properties??{}).length>0||e.type==="array"&&typeof e.items=="object"&&(!e.items.type||e.items.type==="object")),E=e=>typeof e=="string"&&e.startsWith(Y),C=e=>h(e)&&"items"in e&&E(e.items),ke=e=>typeof e=="string"?e.split(":")[1]:void 0,I=({circularProp:e})=>a.jsxs(q,{className:"inline-flex items-center gap-1.5 text-xs translate-y-0.5",selectOnClick:!1,children:[a.jsx(ie,{size:13}),a.jsx("span",{children:e?`${e} (circular)`:"circular"})]}),$e=({name:e,schema:t,group:s,defaultOpen:r=!1,showCollapseButton:i=!0})=>{const[n,o]=m.useState(r);if(E(t))return a.jsx(A,{children:a.jsxs(g,{className:"gap-y-2",children:[a.jsxs("div",{children:[a.jsx(z,{className:"inline me-2",children:a.jsx("code",{children:e})}),a.jsx(N,{className:"inline",schema:t,extraItems:[s!=="optional"&&a.jsx("span",{className:"text-primary",children:"required"}),a.jsx(I,{},"circular-ref")]})]}),a.jsx(O,{schema:t})]})});const l=!!((t.allOf||t.anyOf||t.oneOf||S(t)||h(t)&&"items"in t&&S(t.items)||t.additionalProperties)&&!C(t)),d=!!(t.description||"items"in t&&t.items?.enum||t.const||t.enum||t.example!==void 0||t.default!==void 0);return a.jsxs(A,{children:[a.jsxs(g,{className:"gap-y-2",children:[a.jsxs("div",{children:[a.jsx(z,{className:"inline me-2",children:l?a.jsx("button",{onClick:()=>o(!n),type:"button",className:"hover:underline",children:a.jsx("code",{children:e})}):a.jsx("code",{children:e})}),a.jsx(N,{className:"inline",schema:t,extraItems:[s!=="optional"&&a.jsx("span",{className:"text-primary",children:"required"}),C(t)&&a.jsx(I,{circularProp:ke(t.items)})]})]}),d&&a.jsxs("div",{className:"flex flex-col gap-1.5",children:[t.description&&a.jsx(M,{className:"prose-sm",content:t.description}),"items"in t&&t.items?.enum&&a.jsx(b,{values:t.items.enum}),t.const&&a.jsx(V,{schema:t,hideDescription:!0}),t.enum&&a.jsx(b,{values:t.enum}),a.jsx(O,{schema:t})]})]}),l&&i&&a.jsx(xe,{className:"self-start",children:a.jsx(U,{variant:"ghost",size:"icon",className:"rounded-full",onClick:()=>o(!n),"aria-label":"Toggle properties",children:n?a.jsx(te,{size:16}):a.jsx(re,{size:16})})}),l&&a.jsx(W,{defaultOpen:r,open:n,onOpenChange:o,className:c("w-full",!n&&"contents"),children:a.jsx(G,{asChild:!0,children:a.jsx(g,{children:t.anyOf||t.oneOf||t.type==="object"?a.jsx(p,{schema:t}):h(t)&&"items"in t?a.jsx(p,{schema:t.items}):null})})})]})},T=e=>{const t=e.oneOf??e.anyOf??[];return e.properties&&Object.keys(e.properties).length>0?t.map(s=>!s.properties&&!s.type&&!s.oneOf&&!s.anyOf?{...s,type:"object",properties:e.properties,required:s.required??e.required}:s):t},Ae=e=>{if(Array.isArray(e.oneOf))return"exactly-one";const t=e.discriminator?.propertyName;if(!t)return"at-least-one";const s=T(e),r=new Set;for(const i of s){const n=i.properties?.[t],o=n?.const??(Array.isArray(n?.enum)&&n.enum.length===1?String(n.enum[0]):void 0);if(o==null||r.has(String(o)))return"at-least-one";r.add(String(o))}return"exactly-one"},w=(e,t)=>t.title?.trim()||`Variant ${e+1}`,ze=(e,t)=>{const s=[];e.type&&s.push(`type = ${Array.isArray(e.type)?e.type.join("|"):e.type}`);const r=t?.discriminator?.propertyName;if(r){const n=e.properties?.[r],o=n?.const??(Array.isArray(n?.enum)&&n.enum.length===1?n.enum[0]:void 0);o!==void 0&&s.push(`${r}=${JSON.stringify(o)}`)}const i=(e.required??[]).filter(n=>n!==r);if(i.length){const n=i.slice(0,3).join(", "),o=i.length>3?` +${i.length-3} more`:"";s.push(`requires: ${n}${o}`)}return s},Se=({variants:e,schema:t,selectedVariant:s,onSelectVariant:r})=>{const i=e.map((n,o)=>({label:w(o,n),guards:ze(n,t)}));return a.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[a.jsx("h4",{className:"font-medium",children:"Decision Table"}),a.jsx("div",{className:"border rounded-md overflow-hidden",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b bg-muted/50",children:[a.jsx("th",{className:"text-left p-2 font-medium",children:"Variant"}),a.jsx("th",{className:"text-left p-2 font-medium",children:"Matching Criteria"})]})}),a.jsx("tbody",{className:"divide-y",children:i.map(n=>a.jsxs("tr",{className:"hover:bg-muted/30",children:[a.jsx("td",{className:"p-2 font-medium",children:a.jsx("button",{type:"button",className:c("hover:underline",s===n.label&&"text-primary"),onClick:()=>r(n.label),children:n.label})}),a.jsx("td",{className:"p-2 text-muted-foreground text-xs",children:n.guards.length>0?n.guards.join(" · "):"No specific criteria"})]},n.label))})]})})]})},Ce=({schema:e,cardHeader:t})=>{const s=Array.isArray(e.oneOf)?"oneOf":Array.isArray(e.anyOf)?"anyOf":void 0,r=s?T(e):[],[i,n]=m.useState(()=>r[0]?w(0,r[0]):"");if(!s)return null;const o=Ae(e)==="exactly-one"?a.jsxs(a.Fragment,{children:["Exactly one variant ",a.jsx("b",{children:"must match"}),"."]}):a.jsxs(a.Fragment,{children:["At least one variant ",a.jsx("b",{children:"must match"}),". Multiple variants"," ",a.jsx("i",{children:"may match"})," simultaneously."]}),l=r.findIndex((j,u)=>w(u,j)===i),d=l>=0?r[l]:null;return a.jsxs(ye,{children:[t,a.jsxs(be,{className:"text-sm flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ve,{variant:"outline",children:s}),a.jsx("div",{className:"flex-1 p-2",children:a.jsx("span",{className:"text-sm",children:o})})]}),a.jsx(Se,{variants:r,schema:e,selectedVariant:i,onSelectVariant:n}),a.jsxs("strong",{children:["Properties for ",i,":"]}),d&&a.jsx(p,{schema:d})]})]})},Ie=e=>e&&a.jsx(M,{className:"text-sm leading-normal line-clamp-4",content:e}),Pe=(e,t,s)=>{const r=a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:a.jsx(N,{schema:e})}),e.enum&&a.jsx(b,{values:e.enum}),Ie(e.description),a.jsx(O,{schema:e})]});return s?a.jsx("div",{className:"space-y-2 p-4",children:r}):a.jsxs(v,{children:[t,a.jsx(y,{className:"space-y-2",children:r})]})},p=({schema:e,defaultOpen:t=!1,cardHeader:s,embedded:r})=>{if(!e||Object.keys(e).length===0)return a.jsxs(v,{children:[s,a.jsx(y,{children:a.jsx("div",{className:"text-sm text-muted-foreground italic",children:"No data returned"})})]});if(e.const)return a.jsx(V,{schema:e});if(Array.isArray(e.oneOf)||Array.isArray(e.anyOf))return a.jsx(Ce,{schema:e,cardHeader:s});if(R(e.type))return Pe(e,s,r);if(h(e)&&typeof e.items=="object"){const n={type:"object",properties:{"":e}};return a.jsx(p,{schema:n,cardHeader:s,defaultOpen:!0})}const i=typeof e.additionalProperties=="object"&&a.jsx(p,{schema:e.additionalProperties,embedded:!0});if(e.type==="object"){const n=Ne(Object.entries(e.properties??{}),([l,d])=>d.deprecated?"deprecated":e.required?.includes(l)?"required":"optional"),o=["required","optional","deprecated"].flatMap(l=>{const d=n[l];return d?{group:l,properties:d}:[]}).map(({group:l,properties:d},j)=>a.jsxs(m.Fragment,{children:[j>0&&a.jsx($,{}),a.jsx(pe,{className:"overflow-clip",children:d.map(([u,D],F)=>a.jsxs(m.Fragment,{children:[F>0&&a.jsx($,{}),a.jsx($e,{name:u,schema:D,group:l,defaultOpen:t})]},u))})]},l));return r?o:a.jsxs(v,{children:[s,e.description&&a.jsx(he,{children:a.jsx(fe,{children:e.description})}),a.jsxs(y,{className:"p-0!",children:[o,i]}),e.additionalProperties===!0&&a.jsx(je,{children:a.jsxs("a",{className:"text-sm flex items-center gap-1 hover:underline",href:"https://swagger.io/docs/specification/v3_0/data-models/dictionaries/",rel:"noopener noreferrer",target:"_blank",children:["Additional properties are allowed",a.jsx(B,{size:14})]})})]})}};export{O as I,te as M,re as P,de as R,qe as S,E as a,b,Ne as l,h as m,be as n,me as p,ye as s,N as v,p as x};
//# sourceMappingURL=SchemaView-CjXvSRxy-BOa3yG2o.js.map
